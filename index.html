<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE CONSTRUCT | English Protocol</title>
    <link rel="stylesheet" href="style_v14.css">

    <!-- FIREBASE SDKs -->
    <script defer src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <!-- CORE ENGINE -->
    <script defer src="core_v14.js"></script>
</head>

<body>

    <!-- VISUAL TERMINAL -->
    <div id="main-terminal">
        <header>
            <h1>The Construct</h1>
            <div style="font-size: 0.6rem; color: #008F11; margin-top: 0.5rem;">LINGUISTIC REPROGRAMMING INTERFACE</div>
        </header>

        <div class="status-bar">
            <span>STATUS: ONLINE</span>
            <span>UPLINK: SECURE</span>
            <span id="date-display">...</span>
        </div>

        <!-- THE FEED (Populated by Firebase) -->
        <div id="feed-container">
            <div style="text-align: center; margin-top: 5rem; color: #008F11;">
                [ WAITING FOR SIGNAL INPUT... ]<br><br>
                <span class="cursor-blink">_</span>
            </div>
        </div>
    </div>

    <!-- SECRET ADMIN TERMINAL (Hidden by Default) -->
    <!-- Revealed by pressing CTRL + M -->
    <div id="admin-terminal">
        <div class="close-btn" onclick="toggleAdmin()">[X] TERMINATE</div>
        <h2
            style="margin-bottom: 2rem; color: #fff; background: #00FF41; color: #000; padding: 0.5rem; display: inline-block;">
            ADMIN OVERRIDE</h2>

        <select id="post-category" class="admin-input">
            <option value="VOCABULARY">VOCABULARY_UPLOAD</option>
            <option value="GRAMMAR">GRAMMAR_RULE</option>
            <option value="THEORY">THEORY_MATRIX</option>
            <option value="MESSAGE">SYSTEM_MESSAGE</option>
        </select>

        <textarea id="post-content" class="admin-input" style="height: 200px;"
            placeholder="ENTER RAW DATA..."></textarea>

        <button class="btn" onclick="uploadData()">UPLOAD TO MAINFRAME</button>
        <div id="upload-status" style="margin-top: 1rem; font-size: 0.8rem;"></div>
    </div>

    <script>
        // VISUAL CLOCK
        setInterval(() => {
            const now = new Date();
            document.getElementById('date-display').innerText = now.toISOString().split('T')[0] + " // " + now.toLocaleTimeString();
        }, 1000);

        // ADMIN HOTKEY LISTENER
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'm') {
                toggleAdmin();
            }
        });

        function toggleAdmin() {
            const panel = document.getElementById('admin-terminal');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                const pass = prompt("AUTHENTICATION REQUIRED:");
                if (pass === "neo") { // Simple Password
                    panel.style.display = 'block';
                } else {
                    alert("ACCESS DENIED.");
                }
            }
        }
    </script>
</body>

</html>